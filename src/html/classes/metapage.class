<?php
	/*
	$Header: /var/lib/cvsd/var/lib/cvsd/Pontoon/src/html/classes/metapage.class,v 1.1.1.1 2012-10-30 16:45:52 timb Exp $

	This program is free software; you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation; either version 2 of the License, or
	(at your option) any later version.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with this program; if not, write to the Free Software
	Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA

	(c) Tim Brown, 2008
	<mailto:timb@nth-dimension.org.uk>
	<http://www.nth-dimension.org.uk/> / <http://www.machine.org.uk/>
	*/

	require_once(dirname(__FILE__) . "/pagetemplate.class");
	require_once(dirname(__FILE__) . "/metadata.class");
	class MetaPage extends PageTemplate {
		function MetaPage() {
			parent::PageTemplate();
			$metadata = new MetaData($this->appconfig, $this->mysqlhandle, $this->nodename);
			$metalist = $metadata->Menu();
			$metaview = $metadata->View();
			$this->contentmenu = $metalist;
			$this->rssurl = $metaview["rssurl"];
			$this->memetitle = $metaview["memetitle"];
			$this->memedescription = $metaview["memedescription"];
			$this->memetags = $metaview["memetags"];
			$this->contenttext = "<p>\n";
			$this->contenttext .= "	" . $metaview["contenttext"] . "\n";
			$this->contenttext .= "</p>\n";
			parent::PageHeader();
			parent::PageBody();
		}
	}
?>
